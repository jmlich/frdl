<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<link rel="stylesheet" type="text/css" href="stdStyle.css"/>
</head>
<body class="body">
<h1>File locations</h1>

<p>
FRDL reads from and writes to a number of files on both the host computer and 
on the logger.  This is a summary of what they all are.

<h2>The championship configuration file</h2>

The file always has the extension .frdc
<p>
This is the 'master file' containing all the information about the
championship, so everything from the Championship settings and
task settings pages as well as a list of all the loggers which have been
connected.
<p>
The file is named and located by the user from the 'New championship' dialog
and can be opened from the 'Open championship' dialog, or can be copied to a
new location via the 'Save as' dialog.
<p>
It is recommended that the championship configuration file is located on the
host computer and <b>not</b> on a network share because all the log files from
loggers are backed up to sub-folders of the folder the championship configuration
file is in, and it will be very slow to send all the backup data across the
network compared to saving it locally.

<table class="important">
<tr><td>
Since FRDL backs  up all files it finds on each logger to sub-folders
it creates in the same folder as the championship configuration file,
it is strongly recommended you create a new championship in <b>a new empty folder</b>.</td>
<td><img src="icon_important.png" width="100" height="100" alt="Warning" valign="top"></td></tr>
</table>
<p>
Before a change is saved to the championship configuration file a backup copy of
the previous one is saved to the same location with the file extension <b>.bak</b>.
To revert to an earlier version of the championship configuration file simply rename
the appropriate file by changing .bak to .frdc and then opening that file in FRDL.

<h2>Logger backup files</h2>
The first time a logger is read by FRDL a sub-folder is created in the
folder where the championship configuration file is located.  Each of these
sub-folders is named according to the CIMA file naming protocol and it contains
a copy of all log files found on the logger and backup copies of the logger
configuration file.

<h2>Output igc files</h2>
These are saved in the location configured on the championship settings page. It is
recommended it is the location where the flight analysis program will be reading
them from.
<p>
igc files are named according to the CIMA specification:<br>
    <i>001T01V1R1_PILOT_name.IGC</i> <br>
Where:<br>
- Characters 1-3 are the pilot's competition number, with leading zeros as necessary.<br> (e.g. number 4 must be 004, this way all files will sort correctly by competition number in alphanumeric order.)
- Character 4 is fixed as T (for Task) <br>
- Characters 5 &amp; 6 are the task number, with leading zeros as necessary. <br>
- Character 7 is fixed as V (for Version)<br>
- Character 8 is the version number of the file, (ie this will be 1 the first
time the file is created in the folder, but it will be 2 if the same data
is transferred from the FR a second time. This makes it difficult
for the operator to overwrite existing data.)<br>
- Character 9 is fixed as R (for Recorder). <br>
- Character 10 is a number 1 to 9 indicating the status of the FR as
declared by the pilot; 1 = Primary, 2 = first secondary, 3 = second secondary, Etc. <br>
- Character 11 is an underscore '_'<br>
- Characters 12 to n is the pilot's name where n may not be more than 150.
Pilot name must be in characters A-Z, a-z and 0-9 only, accented
characters etc. must be replaced with their nearest match from
within this selection.  All spaces in the pilot name are
replaced with the underscore '_'. <br>
- Characters n to n+4 are fixed as .IGC This file suffix is
the IGC standard and allows the file to be readily opened in
many different flight analysis programs.
<p>
FRDL never overwrites a file but saves a new file every time a logger is read, and
names it as a new version according to the protocol above.  35 versions of a file
are possible, versions are named 1-9 then A-Z.
<p>
If the igc files location as set in Championship settings page is unavailable (eg
is on a network share which has neen disconnected), then FRDL will save output
.igc files in the same folder as the championship configuration file.  The
operator will be alerted to this with an error message, and advised to re-establish
the connection and read the logger again so the output file is saved to the
intended location.

<h2>Logger configuration file</h2>
FRDL writes a file named <b>logger.frdl</b> to each logger the first time it
reads it, and thereafter maintains the contents.  This file identifies
the logger to FRDL and should not be deleted or edited during a championship.
<p>
Every time a logger is read, a backup copy of the Logger configuration file is
copied to the logger's backup location with a name created from the current
date and time and _logger.bak eg <i>20090419105651_logger.bak</i>.  If a logger
file is inadvertently deleted from a logger it can be restored by copying the
most recent backup to the root of the logger and renaming it <b>logger.frdl</b>

<h2>AUTORUN.INF</h2>
FRDL creates a <i>folder</i> named AUTORUN.INF on the logger, and puts one file in
that folder named README.TXT.  This folder is part of FRDL's defence against
Viruses, Trojans and Worms, see <b>Protecting against malware</b> for a full
explanation.
<p>
Do not place any files or sub-folders in this folder as they will be
deleted without warning the next time the logger is read by FRDL.

<h2>FRDL configuration file</h2>
FRDL maintains some general configuration settings in a file named <b>
sessionProperties</b>.  This file should never be edited.


</body>
</html>
